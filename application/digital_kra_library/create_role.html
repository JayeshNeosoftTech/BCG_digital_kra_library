<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Roles</title>

    <link rel="stylesheet" href="../../assets/css/bootstrap5.min.css">
    <link rel="stylesheet" href="../../assets/css/jquery-ui.css">
    <link rel="stylesheet" href="../../assets/css/jquery.dataTables.min.css">

    <link rel="stylesheet" href="../../assets/css/digital_kra_library/digital_kra_library.css">

    <link rel="stylesheet" href="../../assets/css/select2.min.css">
    
</head>
<body>
    <div class="container bg-light py-3">
        <div class="title-wrapper d-flex align-items-center mt-3 mb-4">
            <h2 class="page-title">Create Roles</h2>
        </div>

        <div class="role-info-wrapper">
            <div class="row mx-0">
                <div class="col-4">
                    <div class="role-info__selectfield">
                        <label class="selectfield-label" for="role_name">ROLE NAME</label>
                        <select class="selectfield" name="role_name" id="">
                            <option value="">Select Role Name</option>
                            <option value="KRA">KRA</option>
                            <option value="abc">ABC</option>
                        </select>
                    </div>
                </div>
                <div class="col-4">
                    <div class="role-info__selectfield">
                        <label class="selectfield-label" for="role_name">ROLE TYPE</label>
                        <select class="selectfield" name="role_name" id="">
                            <option value="">Select Role Type</option>
                            <option value="KRA">KRA</option>
                            <option value="abc">ABC</option>
                        </select>
                    </div>
                </div>
                <div class="col-4">
                    <div class="role-info__inputfield">
                        <label class="inputfield-label" for="role_name">ROLE NAME</label>
                        <input class="inputfield" type="text" placeholder="Role code">
                    </div>
                </div>
            </div>

            <div class="row mx-0 mt-5">
                <div class="col-4">
                    <div class="role-info__inputfield">
                        <label class="inputfield-label" for="role_name">ROLE CREATER</label>
                        <input class="inputfield" type="text" placeholder="Role creater">
                    </div>
                </div>
                <div class="col-4">
                    <div class="role-info__inputfield">
                        <label class="inputfield-label" for="role_name">UNIT</label>
                        <input class="inputfield" type="text" placeholder="Unit">
                    </div>
                </div>
                <div class="col-4">
                    <button type="button" class="common-btn d-block ms-auto" data-bs-toggle="modal" data-bs-target="#add_kra_modal">
                        <span class="plus-symbol">+</span> Add New KRA
                    </button>
                </div>
            </div>
        </div>

        <div class="roletable-wrapper mt-4">
            <table class="roletable modifyrole-tbl  border-0" id="modifyrole_tbl">
                <thead>
                    <tr>
                        <th>ADD/REMOVE</th>
                        <th>SR NO</th>
                        <th>ROLE CODE</th>
                        <th class="text-start">KRA NAME</th>
                        <th>UNIT</th>
                        <th>KRA WEIGHT</th>
                        <th>CRITICALITY</th>
                        <th>ACTIONS</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <button class="add-row-btn">+</button>
                        </td>
                        <td>
                            1
                        </td>
                        <td>41007</td>
                        <td class="text-start td-long-text">Recovery through sale of assets to ARCs</td>
                        <td>Amount (cr)</td>
                        <td>
                            <select class="kra-weight-selectfield" name="kra_weight" id="">
                                <option value="">1</option>
                                <option value="abc">2</option>
                            </select>
                        </td>
                        <td>
                            <select class="criticality-selectfield" name="criticality" id="criticality">
                                <option value="">Select</option>
                                <option value="abc">abc</option>
                            </select>
                        </td>
                        <td>
                            <a class="edit-icon-wrapper" href="#">
                                <img class="edit-icon" src="../../assets/img/digital_kra_library/icons/edit-icon.svg" width="15" height="15" alt="Edit">
                            </a>
                            <a class="delete-icon-wrapper ms-3" href="#">
                                <img class="delete-icon" src="../../assets/img/digital_kra_library/icons/delete-icon.svg" width="15" height="15" alt="Edit">
                            </a>
                        </td>
                    </tr>

                    <tr>
                        <td>
                            <button class="add-row-btn">+</button>
                        </td>
                        <td>
                            2
                        </td>
                        <td>41007</td>
                        <td class="text-start td-long-text">Recovery through sale of assets to ARCs</td>
                        <td>Amount (cr)</td>
                        <td>
                            <select class="kra-weight-selectfield" name="kra_weight" id="">
                                <option value="">1</option>
                                <option value="abc">2</option>
                            </select>
                        </td>
                        <td>
                            <select class="criticality-selectfield" name="criticality" id="criticality">
                                <option value="">Select</option>
                                <option value="abc">abc</option>
                            </select>
                        </td>
                        <td>
                            <a class="edit-icon-wrapper" href="#">
                                <img class="edit-icon" src="../../assets/img/digital_kra_library/icons/edit-icon.svg" width="15" height="15" alt="Edit">
                            </a>
                            <a class="delete-icon-wrapper ms-3" href="#">
                                <img class="delete-icon" src="../../assets/img/digital_kra_library/icons/delete-icon.svg" width="15" height="15" alt="Edit">
                            </a>
                        </td>
                    </tr>

                    <tr>
                        <td>
                            <button class="add-row-btn">+</button>
                        </td>
                        <td>
                            3
                        </td>
                        <td>41007</td>
                        <td class="text-start td-long-text">Recovery through sale of assets to ARCs</td>
                        <td>Amount (cr)</td>
                        <td>
                            <select class="kra-weight-selectfield" name="kra_weight" id="">
                                <option value="">1</option>
                                <option value="abc">2</option>
                            </select>
                        </td>
                        <td>
                            <select class="criticality-selectfield" name="criticality" id="criticality">
                                <option value="">Select</option>
                                <option value="abc">abc</option>
                            </select>
                        </td>
                        <td>
                            <a class="edit-icon-wrapper" href="#">
                                <img class="edit-icon" src="../../assets/img/digital_kra_library/icons/edit-icon.svg" width="15" height="15" alt="Edit">
                            </a>
                            <a class="delete-icon-wrapper ms-3" href="#">
                                <img class="delete-icon" src="../../assets/img/digital_kra_library/icons/delete-icon.svg" width="15" height="15" alt="Edit">
                            </a>
                        </td>
                    </tr>

                    <tr>
                        <td>
                            <button class="add-row-btn">+</button>
                        </td>
                        <td>
                            4
                        </td>
                        <td>41007</td>
                        <td class="text-start td-long-text">Recovery through sale of assets to ARCs</td>
                        <td>Amount (cr)</td>
                        <td>
                            <select class="kra-weight-selectfield" name="kra_weight" id="">
                                <option value="">1</option>
                                <option value="abc">2</option>
                            </select>
                        </td>
                        <td>
                            <select class="criticality-selectfield" name="criticality" id="criticality">
                                <option value="">Select</option>
                                <option value="abc">abc</option>
                            </select>
                        </td>
                        <td>
                            <a class="edit-icon-wrapper" href="#">
                                <img class="edit-icon" src="../../assets/img/digital_kra_library/icons/edit-icon.svg" width="15" height="15" alt="Edit">
                            </a>
                            <a class="delete-icon-wrapper ms-3" href="#">
                                <img class="delete-icon" src="../../assets/img/digital_kra_library/icons/delete-icon.svg" width="15" height="15" alt="Edit">
                            </a>
                        </td>
                    </tr>

                    <tr>
                        <td>
                            <button class="add-row-btn">+</button>
                        </td>
                        <td>
                            5
                        </td>
                        <td>41007</td>
                        <td class="text-start td-long-text">Recovery through sale of assets to ARCs</td>
                        <td>Amount (cr)</td>
                        <td>
                            <select class="kra-weight-selectfield" name="kra_weight" id="">
                                <option value="">1</option>
                                <option value="abc">2</option>
                            </select>
                        </td>
                        <td>
                            <select class="criticality-selectfield" name="criticality" id="criticality">
                                <option value="">Select</option>
                                <option value="abc">abc</option>
                            </select>
                        </td>
                        <td>
                            <a class="edit-icon-wrapper" href="#">
                                <img class="edit-icon" src="../../assets/img/digital_kra_library/icons/edit-icon.svg" width="15" height="15" alt="Edit">
                            </a>
                            <a class="delete-icon-wrapper ms-3" href="#">
                                <img class="delete-icon" src="../../assets/img/digital_kra_library/icons/delete-icon.svg" width="15" height="15" alt="Edit">
                            </a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <button type="button" class="common-btn d-block mt-5 ms-auto">Create</button>
    </div>

    <!-- Add New KRA Modal -->
    <div id="add_kra_modal" class="modal fade filter-modal add-kra-modal" role="dialog">
        <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title fontsize-14">Please select KRAs to add</h4>
                    <button type="button" class="close" data-bs-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body">
                    <table class="common-tbl add-kra-modal_tbl" id="add_kra_modal_tbl">
                        <thead>
                            <tr>
                                <th></th>
                                <th class="text-start">KRA NAME</th>
                                <th>UNIT</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <input class="add-kra-modal__checkbox" type="checkbox" name="kra" id="">
                                </td>
                                <td>% of timely physical possessions of security undertaken under SARFAESI vs. target</td>
                                <td>Amount (cr)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn common-btn">Submit</button>
                </div>
            </div>

        </div>
    </div>

    <script src="../../assets/js/bootstrap.bundle.min.js"></script>
    <script src="../../assets/js/jquery.min.js"></script>
    <script src="../../assets/js/jquery-ui.min.js"></script>
    <script src="../../assets/js/jquery.dataTables.min.js"></script>
    <script src="../../assets/js/dataTables.buttons.min.js"></script>
    <script src="../../assets/js/select2.js"></script>


    <script>
        const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]');
        const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl));
        
        $(document).ready(function() {
            
            $('#modifyrole_tbl').DataTable({
                'searching': false,
                "dom": 'rtip',
                language: {
                    paginate: {
                    next: '>',
                    previous: '<'  
                    }
                }
            });


            $('#add_kra_modal_tbl').DataTable({
                'searching': false,
                "dom": 'rtip',
                "pageLength": 20,
                "bPaginate": false,
                "bInfo": false,
                language: {
                    paginate: {
                    next: '>',
                    previous: '<'  
                    }
                }
            });

            /* Expand td text code */
            $('.longtxt-dropdown').on('click', function(event){
                var parent_tr= ($(this).parent()).parent();

                if(parent_tr.hasClass('close')){
                    parent_tr.removeClass('close');
                    parent_tr.addClass('open');
                }
                else{
                    parent_tr.removeClass('open');
                    parent_tr.addClass('close');
                }
            });

            $('.exampleKRA').select2();
        });
    </script>
</body>
</html>